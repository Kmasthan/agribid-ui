import './polyfills.server.mjs';
import{a as W}from"./chunk-AHM3WASG.mjs";import{a as H}from"./chunk-V323CLBY.mjs";import{c as D}from"./chunk-CV6W63QY.mjs";import{ga as E,ha as T}from"./chunk-IXPVSICS.mjs";import{a as N,o as A,q as R,r as B,s as z,u as v}from"./chunk-JFMPLONW.mjs";import{$ as C,$b as w,Ab as r,Bb as m,Ca as O,Hb as f,Nc as U,Oc as k,Pc as L,Qb as p,Sb as x,Ta as I,Tc as j,Va as M,W as b,Wc as F,X as g,Ya as a,Za as d,_b as y,ac as P,fa as _,ga as u,ob as h,qb as c,zb as o}from"./chunk-QSDSDSQO.mjs";var $=(()=>{class e{constructor(n){this.dataService=n}getUserLeftNavItems(n){let t=new N().set("usertype",n);return this.dataService.getObjects("user/user-left-nav-items",t)}static{this.\u0275fac=function(t){return new(t||e)(C(E))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var K=e=>({open:e}),Q=()=>({exact:!1}),X=(e,l)=>[e,l];function Y(e,l){e&1&&(o(0,"div",13)(1,"div",14)(2,"button",15),p(3,"View Profile"),r(),o(4,"a",16),p(5,"Log Out"),r()()())}function Z(e,l){if(e&1&&(o(0,"li",17)(1,"a",18),m(2,"i",19),p(3),r()()),e&2){let n=l.$implicit,t=l.index;c("routerLinkActiveOptions",y(5,Q)),a(),c("id","navItem"+t)("routerLink",P(6,X,n.userType.toLowerCase(),n.path)),a(),c("ngClass",n.itemIcon),a(),x("\xA0\xA0",n.itemName,"")}}var G=(()=>{class e{constructor(n,t,i,s){this.userScreenService=n,this.localStorageService=t,this.router=i,this.platformId=s,this.userNavItems=[],this.isSidebarOpen=!1,this.isLargeScreen=!0,this.isUserInfOpen=!1}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}toggleUserInfo(){this.isUserInfOpen=!this.isUserInfOpen}onResize(n){this.isLargeScreen=n.target.innerWidth>=768,this.isLargeScreen&&(this.isSidebarOpen=!1)}ngOnInit(){F(this.platformId)&&(this.isLargeScreen=window.innerWidth>=768),this.loggedInUser=this.localStorageService.getLoggedInUser()!=null?JSON.parse(this.localStorageService.getLoggedInUser()):null,this.loggedInUser!=null&&this.getLeftNavItemsForTheUser(this.loggedInUser.userType)}getLeftNavItemsForTheUser(n){this.userScreenService.getUserLeftNavItems(n).subscribe({next:t=>{this.userNavItems=t,this.router.navigate([`user/${n.toLowerCase()}`])},error:t=>{console.log(t)},complete:()=>{}})}static{this.\u0275fac=function(t){return new(t||e)(d($),d(T),d(R),d(O))}}static{this.\u0275cmp=_({type:e,selectors:[["app-user-screen"]],hostBindings:function(t,i){t&1&&f("resize",function(V){return i.onResize(V)},!1,M)},decls:15,vars:6,consts:[[1,"header","d-flex","justify-content-between","align-items-center","px-3","py-2"],[1,"home-page-icons-size"],[1,"btn","d-md-none",3,"click"],[1,"fa","fa-bars"],[1,"d-flex","justify-content-center","justify-content-md-end","mt-3","mt-md-0"],["name","user","role","button",1,"user-image","mb-2","border","border-success","bg-light",3,"click"],["alt","User Profile",1,"rounded-circle","profile-header-image",3,"src"],["class","user-info-panel position-absolute end-0 mt-5 shadow-sm bg-white rounded","style","z-index: 1000; max-width: 250px; width: 90vw;",4,"ngIf"],[1,"sidenav","position-fixed","p-3",3,"ngClass"],[1,"d-flex","flex-column","overflow-auto"],[1,"nav","flex-column"],["class","nav-item","routerLinkActive","active",3,"routerLinkActiveOptions",4,"ngFor","ngForOf"],[1,"content"],[1,"user-info-panel","position-absolute","end-0","mt-5","shadow-sm","bg-white","rounded",2,"z-index","1000","max-width","250px","width","90vw"],[1,"card-body","p-3"],[1,"btn","btn-sm","btn-outline-secondary","w-100","mb-2"],["routerLink","/","routerLinkActive","active",1,"btn","btn-sm","btn-danger","w-100"],["routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],[1,"nav-link","fs-6","text-decoration-none",3,"id","routerLink"],[3,"ngClass"]],template:function(t,i){if(t&1&&(o(0,"header",0)(1,"div",1),p(2,"AGRI BID"),r(),o(3,"button",2),f("click",function(){return i.toggleSidebar()}),m(4,"i",3),r(),o(5,"div",4)(6,"div",5),f("click",function(){return i.toggleUserInfo()}),m(7,"img",6),r(),h(8,Y,6,0,"div",7),r()(),o(9,"aside",8)(10,"nav",9)(11,"ul",10),h(12,Z,4,9,"li",11),r()()(),o(13,"main",12),m(14,"router-outlet"),r()),t&2){let s;a(7),c("src",(s=i.loggedInUser==null?null:i.loggedInUser.imageUrl)!==null&&s!==void 0?s:"/assets/user.png",I),a(),c("ngIf",i.isUserInfOpen),a(),c("ngClass",w(4,K,i.isSidebarOpen||i.isLargeScreen)),a(3),c("ngForOf",i.userNavItems)}},dependencies:[U,k,L,A,B,z],styles:["[_nghost-%COMP%]{--content-background-color: #f8f0e1}app.component.css[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}.header[_ngcontent-%COMP%]{background-color:#e8d5b0;padding:1rem;font-size:1.5rem;height:60px;display:flex}.sidenav[_ngcontent-%COMP%]{width:250px;background-color:#576c35;position:fixed;top:60px;bottom:0;left:0;padding:1rem;z-index:10}.sidenav[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{overflow-y:auto}.sidenav[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.sidenav[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.5rem 0}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff!important;font-weight:700}.sidenav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{text-decoration:underline}.content[_ngcontent-%COMP%]{margin-left:240px;padding:1rem;flex:1;background-color:var(--content-background-color);height:calc(100vh - 60px);overflow-y:auto}.nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:var(--content-background-color);color:#2e4d1f!important;font-weight:700;border-radius:4px}@media (max-width: 768px){.sidenav[_ngcontent-%COMP%]{transform:translate(-100%)}.sidenav.open[_ngcontent-%COMP%]{transform:translate(0)}.content[_ngcontent-%COMP%]{margin-left:0}}.user-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;flex-shrink:0}.profile-header-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;display:block}"]})}}return e})();var ee=[{path:"",component:G,children:[{path:"farmer",loadChildren:()=>import("./chunk-JQ7VTGCR.mjs").then(e=>e.AgriBidFarmerPageModule)},{path:"buyer",loadChildren:()=>import("./chunk-WRQ4T3TD.mjs").then(e=>e.AgriBidBuyerPageModule)}]}],J=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=u({type:e})}static{this.\u0275inj=g({imports:[v.forChild(ee),v]})}}return e})();var Oe=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=u({type:e})}static{this.\u0275inj=g({providers:[D],imports:[j,J,H,W]})}}return e})();export{Oe as a};
